{% extends 'base.html.twig' %}

{% block title %}Liste Vendeurs{% endblock %}

{% block body %}
    <style>
        form{
            display: flex;
            margin-left: 60%;
        }
    </style>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <div class="container mt-5">
        <h1>Liste Vendeurs</h1>
    <table class="table table-striped table-bordered table-hover" style="width: 100%">
        <thead>
        <tr>
            <th style="text-align: center;width: 15% ;background-color: #95c24e">Nom</th>
            <th style="text-align: center;width: 15% ;background-color: #95c24e">Prenom</th>
            <th style="text-align: center;width: 15% ;background-color: #95c24e">Email</th>
            <th style="text-align: center;width: 15% ;background-color: #95c24e">Agence</th>
            <th style="text-align: center;width: 10% ;background-color: #95c24e">Mot de passe</th>
            <th style="text-align: center;width: 10% ;background-color: #95c24e">validation</th>
            <th style="text-align: center;width: 20% ;background-color: #95c24e">actions</th>
        </tr>
        </thead>
        <tbody>
        {% for user in users %}

            <tr style="font-size: .7vw;">
                <td data-toggle="tooltip" style="text-align: center">{{ user.name |slice(0,5)}}...</td>
                <td data-toggle="tooltip" style="text-align: center">{{ user.username |slice(0,5)}}...</td>
                <td data-toggle="tooltip" style="text-align: center">{{ user.email |slice(0,5)}}...</td>
                <td data-toggle="tooltip" style="text-align: center">{{ user.agence |slice(0,5)}}...</td>
                <td data-toggle="tooltip" style="text-align: center">{{ user.password }}</td>
                <td data-toggle="tooltip" style="text-align: center">{{ user.IsValid }}</td>
                <td style="display: flex;text-align: center">
                    <a href="{{ path('user_edit', {'id': user.id}) }}"  style="display: flex;font-size: .7vw;" class='btn btn-secondary'> <i class='bi bi-pencil'> </i>Modifier</a>
                    <a href="{{ path('user_delete', {'id': user.id}) }}" onclick="return confirm('Êtes-vous sûr de vouloir supprimer?')" style="margin-left: 10px;font-size: .7vw;" class='btn btn-danger'><i class='bi bi-trash'></i>Supprimer</a>

                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="5">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    </div>
{% endblock %}

{% block javascripts %}
    <script>
        $(document).ready(function(){
            $('[data-toggle="tooltip"]').tooltip();
        });




    </script>
{% endblock %}