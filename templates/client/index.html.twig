{% extends 'base.html.twig' %}

{% block title %}Client{% endblock %}
    {% block stylesheets %}
     <link rel="stylesheet" href="{{ asset('css/IndexClient.css') }}"/>
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous" />
     <link rel="stylesheet" href="{{ asset('css/Navabar.css') }}">
    {% endblock %}

{% block body %}
    <div class="container mt-5">
        <h1 style="margin: 50px">Listes des Clients</h1>
        <div style="display: inline-flex;height: 38px; margin: 0px;
">
            <a class="btn btn-success" href="{{ path('client_new') }}" style="margin-left: 29px;">Nouveau Client</a>
                    {{ form_start(form) }}
                    {{ form_row(form.social_reason) }}   
                    <button class="btn btn-primary recherche" type="submit">rechercher</button>
                    {{form_end(form)}}
        </div>
    <table class="table table-bordered" style="margin: 48px; margin-left: 0">
            <thead>
                    <tr>
                        <th scope="col" class="align-middle">Raison sociale </th>
                        <th scope="col" class="align-middle">Siren </th>
                        <th scope="col" class="align-middle">Adresse du siège </th>
                        <th scope="col" class="align-middle">Nom du Signataire </th>
                        <th scope="col" class="align-middle">Fonction</th>
                        <th scope="col" class="align-middle" style="width: 28%">Adresse mail </th>
                        <th scope="col" class="align-middle" style="width: 22%">actions</th>
                    </tr>
            </thead>
            <tbody>
            {% for client in clients %}
                    <tr>
                        <td data-label=Raison_sociale>{{ client.socialReason }}</td>
                        <td data-label=Siren>{{ client.mermaid }}</td>
                        <td data-label=Adresse_du_siège>{{ client.address }}</td>
                        <td data-label=Nom_du_Signataire>{{ client.nameOfSignatory }}</td>
                        <td data-label=Fonction>{{ client.function }}</td>
                        <td data-label=Adresse_mail>{{ client.mail }}</td>
                        <td data-label=actions>
                                <a href="{{ path('client_show', {'id': client.id}) }}"><i style="color: darkgreen;padding-left:20px" class="fa fa-eye" aria-hidden="true"></i></a>
                                <a href="{{ path('client_edit', {'id': client.id}) }}"><i style="color: yellow;padding-left:20px" class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                                <a href="{{ path('Ajout_demande', {'id': client.id}) }}"><i style="color: blue;padding-left:20px" class="fal fa-paper-plane" aria-hidden="true"></i></a>
                                <a href="{{ path('client_delete', {'id': client.id}) }}" onclick="return confirm('Êtes-vous sûr de vouloir supprimer?')"><i style="color: red;padding-left:20px" class="fa fa-trash delete" aria-hidden="true"></i></a>

                        {% if client.valider == true  %}
                                <a ><i style="color: green;padding-left:20px" class="fa fa-check" aria-hidden="true"></i></a>
                        {% endif %}
                                <a href="{{ path('client_pdf', {'id': client.id}) }}" style="padding-left:20px">pdf</a>
                        </td>
                    </tr>
            {% else %}
                    <tr>
                        <td colspan="8">Aucun enregistrement trouvé</td>
                    </tr>
            {% endfor %}
            </tbody>
    </table>
        <div class="navigation" style="text-align: center">
            {{ knp_pagination_render(clients) }}
        </div>

    </div>
{% endblock %}
